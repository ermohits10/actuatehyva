<?php
/**
 * Hyvä Themes - https://hyva.io
 * Copyright © Hyvä Themes 2020-present. All rights reserved.
 * This product is licensed per Magento install
 * See https://hyva.io/license
 */

declare(strict_types=1);

use Magento\Checkout\Block\Cart;
use Magento\Framework\Escaper;
use Hyva\Theme\ViewModel\HeroiconsOutline;
use Hyva\Theme\ViewModel\SvgIcons;;
/** @var Cart $block */
/** @var Escaper $escaper */
$heroicons = $viewModels->require(HeroiconsOutline::class);
$hyvaicons = $viewModels->require(SvgIcons::class);

$objectManager = \Magento\Framework\App\ObjectManager::getInstance();
$cart = $objectManager->get('\Magento\Checkout\Model\Cart');

$quote = $cart->getCheckoutSession()->getQuote();
$subTotal = $quote->getGrandTotal();

$autifyDigitalHelper = $this->helper('AutifyDigital\V12Finance\Helper\Data');
$checkProductLevelFinanceConfig = $autifyDigitalHelper->getProductFinanceEnableConfig();
$minOrderAmount = 0;
if ($autifyDigitalHelper->checkModuleEnable() === '1' && $autifyDigitalHelper->getConfig('v12finance/product_page/enable_v12_finance')):
    $productConfigArray = $autifyDigitalHelper->getProductConfig();
    $minOrderAmount = (int) $productConfigArray['min_order_total'];
endif;

?>

<div class="w-full float-left relative flex flex-col md:flex-row">
    <div class="cart-sidebar w-full lg:w-1/4 float-left lg:float-right lg:order-2 top-40 lg:sticky order-2 md:order-1">

        <div class="md:sticky lg:sticky top-40">
            <div x-data="initSummaryToggleSection()" x-init="checkFinanceProduct()">
                <div class="pay-full w-full border-2 border-solid border-[#000d40] bg-[#F5F5F5] rounded-md p-3 mb-1">
                    <div>
                        <div class="pay-label" @click="togglePaySection('payFull')">
                            <input type="radio" name="summary_toggle" :checked="isPayInFullActive">
                            <span><?= $escaper->escapeHtml(__('Complete your Payment')) ?></span>
                        </div>
                        <p class="text-xs font-semibold mb-2.5"><?= $escaper->escapeHtml(__('Pay by Credit/Debit Card, PayPal or Amazon Pay')) ?></p>
                        <div id="before-open-icon" style="display: none">
                            <svg class="inline-block w-[60px] px-0 py-2.5 rounded-[10px]" width="47" height="15" viewBox="0 0 47 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M12.0361 14.1294H8.03776L5.03951 3.26135C4.8972 2.76142 4.59504 2.31945 4.15056 2.11115C3.04132 1.58767 1.81902 1.17107 0.485596 0.960952V0.542533H6.92658C7.81553 0.542533 8.48224 1.17107 8.59336 1.90104L10.149 9.7405L14.1454 0.542533H18.0326L12.0361 14.1294ZM20.2549 14.1294H16.4788L19.5882 0.542533H23.3643L20.2549 14.1294ZM28.2498 4.30648C28.3609 3.5747 29.0276 3.15629 29.8054 3.15629C31.0277 3.05123 32.3592 3.26134 33.4704 3.78301L34.1371 0.857698C33.0259 0.439279 31.8036 0.229164 30.6944 0.229164C27.0294 0.229164 24.3626 2.11114 24.3626 4.72309C24.3626 6.71013 26.2516 7.75346 27.585 8.38199C29.0276 9.00871 29.5832 9.42713 29.4721 10.0539C29.4721 10.9939 28.3609 11.4124 27.2517 11.4124C25.9182 11.4124 24.5848 11.099 23.3645 10.5755L22.6977 13.5026C24.0312 14.0243 25.4738 14.2344 26.8072 14.2344C30.9166 14.3377 33.4704 12.4575 33.4704 9.63544C33.4704 6.08159 28.2498 5.87329 28.2498 4.30648ZM46.6857 14.1294L43.6874 0.542533H40.4669C39.8002 0.542533 39.1335 0.960952 38.9113 1.58767L33.3592 14.1294H37.2464L38.0223 12.1441H42.7985L43.2429 14.1294H46.6857ZM41.0225 4.20143L42.1317 9.32208H39.0223L41.0225 4.20143Z" fill="#172B85"/>
                            </svg>
                            <svg class="inline-block w-[60px] px-0 rounded-[10px]" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="48px" height="48px"><path fill="#ff9800" d="M32 10A14 14 0 1 0 32 38A14 14 0 1 0 32 10Z"/><path fill="#d50000" d="M16 10A14 14 0 1 0 16 38A14 14 0 1 0 16 10Z"/><path fill="#ff3d00" d="M18,24c0,4.755,2.376,8.95,6,11.48c3.624-2.53,6-6.725,6-11.48s-2.376-8.95-6-11.48 C20.376,15.05,18,19.245,18,24z"/></svg>
                            <svg class="inline-block w-[60px] px-0 rounded-[10px]" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="50px" height="50px">    <path d="M 9.984375 15.001953 C 9.149375 15.041953 8.1182969 15.573313 7.5292969 16.320312 C 6.9892969 16.964312 6.5275313 18.010188 6.6445312 18.992188 C 7.5875313 19.074188 8.5301406 18.500438 9.1191406 17.773438 C 9.6991406 17.026437 10.082375 16.024953 9.984375 15.001953 z M 18 17 L 18 32 L 20.375 32 L 20.375 27 L 23.625 27 C 26.608 27 28.75 24.925 28.75 22 C 28.75 19.075 26.647125 17 23.703125 17 L 18 17 z M 20.375 19 L 23.125 19 C 25.172 19 26.375 20.105 26.375 22 C 26.375 23.895 25.182 25 23.125 25 L 20.375 25 L 20.375 19 z M 9.875 19.5 C 8.5 19.5 7.517 20.25 6.875 20.25 C 6.223 20.25 5.25 19.509766 4.125 19.509766 C 2.75 19.509766 1.4033594 20.372859 0.69335938 21.630859 C -0.76564063 24.145859 0.31460937 27.869016 1.7246094 29.916016 C 2.4156094 30.930016 3.25 32 4.375 32 C 5.406 31.961 5.755 31.375 7 31.375 C 8.254 31.375 8.625 32 9.75 32 C 10.875 32 11.556094 30.969078 12.246094 29.955078 C 13.034094 28.805078 13.356 27.684 13.375 27.625 C 13.356 27.606 11.197734 26.77725 11.177734 24.28125 C 11.158734 22.19525 12.879031 21.200578 12.957031 21.142578 C 11.984031 19.700578 10.375 19.5 10 19.5 L 9.875 19.5 z M 34.199219 21 C 31.710219 21 29.870734 22.395453 29.802734 24.314453 L 31.912109 24.314453 C 32.086109 23.402453 32.948859 22.804688 34.130859 22.804688 C 35.563859 22.804688 36.373047 23.460969 36.373047 24.667969 L 36.375 25.5 L 33.443359 25.654297 C 30.722359 25.815297 29.25 26.908594 29.25 28.808594 C 29.25 30.727594 30.770219 32.001953 32.949219 32.001953 C 34.421219 32.001953 35.78725 31.270328 36.40625 30.111328 L 36.455078 30.111328 L 36.455078 31.886719 L 38.623047 31.886719 L 38.623047 24.515625 C 38.624047 22.376625 36.882219 21 34.199219 21 z M 39.5 21 L 43.507812 31.949219 L 43.292969 32.615234 C 42.930969 33.744234 42.344828 34.177734 41.298828 34.177734 C 41.119828 34.177734 40.781 34.159625 40.625 34.140625 L 40.625 35.945312 C 40.783 35.980313 41.332906 36 41.503906 36 C 43.810906 36 44.896703 35.132047 45.845703 32.498047 L 50 21 L 47.595703 21 L 44.808594 29.884766 L 44.759766 29.884766 L 41.972656 21 L 39.5 21 z M 36.375 27 L 36.367188 27.867188 C 36.367188 29.254188 35.166125 30.242188 33.578125 30.242188 C 32.329125 30.242188 31.535156 29.653953 31.535156 28.751953 C 31.535156 27.820953 32.300672 27.279359 33.763672 27.193359 L 36.375 27 z"/></svg>
                            <svg class="inline-block w-[60px] px-0 rounded-[10px]" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="48px" height="48px"><path fill="#1565C0" d="M18.7,13.767l0.005,0.002C18.809,13.326,19.187,13,19.66,13h13.472c0.017,0,0.034-0.007,0.051-0.006C32.896,8.215,28.887,6,25.35,6H11.878c-0.474,0-0.852,0.335-0.955,0.777l-0.005-0.002L5.029,33.813l0.013,0.001c-0.014,0.064-0.039,0.125-0.039,0.194c0,0.553,0.447,0.991,1,0.991h8.071L18.7,13.767z"/><path fill="#039BE5" d="M33.183,12.994c0.053,0.876-0.005,1.829-0.229,2.882c-1.281,5.995-5.912,9.115-11.635,9.115c0,0-3.47,0-4.313,0c-0.521,0-0.767,0.306-0.88,0.54l-1.74,8.049l-0.305,1.429h-0.006l-1.263,5.796l0.013,0.001c-0.014,0.064-0.039,0.125-0.039,0.194c0,0.553,0.447,1,1,1h7.333l0.013-0.01c0.472-0.007,0.847-0.344,0.945-0.788l0.018-0.015l1.812-8.416c0,0,0.126-0.803,0.97-0.803s4.178,0,4.178,0c5.723,0,10.401-3.106,11.683-9.102C42.18,16.106,37.358,13.019,33.183,12.994z"/><path fill="#283593" d="M19.66,13c-0.474,0-0.852,0.326-0.955,0.769L18.7,13.767l-2.575,11.765c0.113-0.234,0.359-0.54,0.88-0.54c0.844,0,4.235,0,4.235,0c5.723,0,10.432-3.12,11.713-9.115c0.225-1.053,0.282-2.006,0.229-2.882C33.166,12.993,33.148,13,33.132,13H19.66z"/></svg>
                            <svg class="inline-block w-[60px] px-0 rounded-[10px]" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="48px" height="48px"><path fill="#FFB300" d="M39.6,39c-4.2,3.1-10.5,5-15.6,5c-7.3,0-13.8-2.9-18.8-7.4c-0.4-0.4,0-0.8,0.4-0.6c5.4,3.1,11.5,4.9,18.3,4.9c4.6,0,10.4-1,15.1-3C39.7,37.7,40.3,38.5,39.6,39z M41.1,36.9c-0.5-0.7-3.5-0.3-4.8-0.2c-0.4,0-0.5-0.3-0.1-0.6c2.3-1.7,6.2-1.2,6.6-0.6c0.4,0.6-0.1,4.5-2.3,6.3c-0.3,0.3-0.7,0.1-0.5-0.2C40.5,40.4,41.6,37.6,41.1,36.9z"/><path fill="#37474F" d="M36.9,29.8c-1-1.3-2-2.4-2-4.9v-8.3c0-3.5,0-6.6-2.5-9c-2-1.9-5.3-2.6-7.9-2.6C19,5,14.2,7.2,13,13.4c-0.1,0.7,0.4,1,0.8,1.1l5.1,0.6c0.5,0,0.8-0.5,0.9-1c0.4-2.1,2.1-3.1,4.1-3.1c1.1,0,3.2,0.6,3.2,3v3c-3.2,0-6.6,0-9.4,1.2c-3.3,1.4-5.6,4.3-5.6,8.6c0,5.5,3.4,8.2,7.8,8.2c3.7,0,5.9-0.9,8.8-3.8c0.9,1.4,1.3,2.2,3,3.7c0.4,0.2,0.9,0.2,1.2-0.1l0,0c1-0.9,2.9-2.6,4-3.5C37.4,30.9,37.3,30.3,36.9,29.8z M27,22.1L27,22.1c0,2-0.1,6.9-5,6.9c-3,0-3-3-3-3c0-4.5,4.2-5,8-5V22.1z"/></svg>
                        </div>
                    </div>
                    <div x-show="isPayInFullActive" class="pay-content-active">
                        <?= $this->getLayout()->createBlock('Magento\Checkout\Block\Onepage\Link')->setButtonName("Proceed to Payment")->setTemplate('Magento_Checkout::php-cart/onepage-link.phtml')->toHtml(); ?>
                        <div>
                            <span><?= $escaper->escapeHtml(__('WE ACCEPT:')) ?></span>
                            <div id="show-three-icon">
                                <svg class="inline-block w-[60px] px-0 py-2.5 rounded-[10px]" width="47" height="15" viewBox="0 0 47 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.0361 14.1294H8.03776L5.03951 3.26135C4.8972 2.76142 4.59504 2.31945 4.15056 2.11115C3.04132 1.58767 1.81902 1.17107 0.485596 0.960952V0.542533H6.92658C7.81553 0.542533 8.48224 1.17107 8.59336 1.90104L10.149 9.7405L14.1454 0.542533H18.0326L12.0361 14.1294ZM20.2549 14.1294H16.4788L19.5882 0.542533H23.3643L20.2549 14.1294ZM28.2498 4.30648C28.3609 3.5747 29.0276 3.15629 29.8054 3.15629C31.0277 3.05123 32.3592 3.26134 33.4704 3.78301L34.1371 0.857698C33.0259 0.439279 31.8036 0.229164 30.6944 0.229164C27.0294 0.229164 24.3626 2.11114 24.3626 4.72309C24.3626 6.71013 26.2516 7.75346 27.585 8.38199C29.0276 9.00871 29.5832 9.42713 29.4721 10.0539C29.4721 10.9939 28.3609 11.4124 27.2517 11.4124C25.9182 11.4124 24.5848 11.099 23.3645 10.5755L22.6977 13.5026C24.0312 14.0243 25.4738 14.2344 26.8072 14.2344C30.9166 14.3377 33.4704 12.4575 33.4704 9.63544C33.4704 6.08159 28.2498 5.87329 28.2498 4.30648ZM46.6857 14.1294L43.6874 0.542533H40.4669C39.8002 0.542533 39.1335 0.960952 38.9113 1.58767L33.3592 14.1294H37.2464L38.0223 12.1441H42.7985L43.2429 14.1294H46.6857ZM41.0225 4.20143L42.1317 9.32208H39.0223L41.0225 4.20143Z" fill="#172B85"/>
                                </svg>
                                <svg class="inline-block w-[60px] rounded-[10px]" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="48px" height="48px"><path fill="#ff9800" d="M32 10A14 14 0 1 0 32 38A14 14 0 1 0 32 10Z"/><path fill="#d50000" d="M16 10A14 14 0 1 0 16 38A14 14 0 1 0 16 10Z"/><path fill="#ff3d00" d="M18,24c0,4.755,2.376,8.95,6,11.48c3.624-2.53,6-6.725,6-11.48s-2.376-8.95-6-11.48 C20.376,15.05,18,19.245,18,24z"/></svg>
                                <svg class="inline-block w-[60px] rounded-[10px]" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="50px" height="50px">    <path d="M 9.984375 15.001953 C 9.149375 15.041953 8.1182969 15.573313 7.5292969 16.320312 C 6.9892969 16.964312 6.5275313 18.010188 6.6445312 18.992188 C 7.5875313 19.074188 8.5301406 18.500438 9.1191406 17.773438 C 9.6991406 17.026437 10.082375 16.024953 9.984375 15.001953 z M 18 17 L 18 32 L 20.375 32 L 20.375 27 L 23.625 27 C 26.608 27 28.75 24.925 28.75 22 C 28.75 19.075 26.647125 17 23.703125 17 L 18 17 z M 20.375 19 L 23.125 19 C 25.172 19 26.375 20.105 26.375 22 C 26.375 23.895 25.182 25 23.125 25 L 20.375 25 L 20.375 19 z M 9.875 19.5 C 8.5 19.5 7.517 20.25 6.875 20.25 C 6.223 20.25 5.25 19.509766 4.125 19.509766 C 2.75 19.509766 1.4033594 20.372859 0.69335938 21.630859 C -0.76564063 24.145859 0.31460937 27.869016 1.7246094 29.916016 C 2.4156094 30.930016 3.25 32 4.375 32 C 5.406 31.961 5.755 31.375 7 31.375 C 8.254 31.375 8.625 32 9.75 32 C 10.875 32 11.556094 30.969078 12.246094 29.955078 C 13.034094 28.805078 13.356 27.684 13.375 27.625 C 13.356 27.606 11.197734 26.77725 11.177734 24.28125 C 11.158734 22.19525 12.879031 21.200578 12.957031 21.142578 C 11.984031 19.700578 10.375 19.5 10 19.5 L 9.875 19.5 z M 34.199219 21 C 31.710219 21 29.870734 22.395453 29.802734 24.314453 L 31.912109 24.314453 C 32.086109 23.402453 32.948859 22.804688 34.130859 22.804688 C 35.563859 22.804688 36.373047 23.460969 36.373047 24.667969 L 36.375 25.5 L 33.443359 25.654297 C 30.722359 25.815297 29.25 26.908594 29.25 28.808594 C 29.25 30.727594 30.770219 32.001953 32.949219 32.001953 C 34.421219 32.001953 35.78725 31.270328 36.40625 30.111328 L 36.455078 30.111328 L 36.455078 31.886719 L 38.623047 31.886719 L 38.623047 24.515625 C 38.624047 22.376625 36.882219 21 34.199219 21 z M 39.5 21 L 43.507812 31.949219 L 43.292969 32.615234 C 42.930969 33.744234 42.344828 34.177734 41.298828 34.177734 C 41.119828 34.177734 40.781 34.159625 40.625 34.140625 L 40.625 35.945312 C 40.783 35.980313 41.332906 36 41.503906 36 C 43.810906 36 44.896703 35.132047 45.845703 32.498047 L 50 21 L 47.595703 21 L 44.808594 29.884766 L 44.759766 29.884766 L 41.972656 21 L 39.5 21 z M 36.375 27 L 36.367188 27.867188 C 36.367188 29.254188 35.166125 30.242188 33.578125 30.242188 C 32.329125 30.242188 31.535156 29.653953 31.535156 28.751953 C 31.535156 27.820953 32.300672 27.279359 33.763672 27.193359 L 36.375 27 z"/></svg>
                                <svg width="51" height="15" viewBox="0 0 51 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect y="0.999985" width="51" height="13.7243" rx="6.86216" fill="#B2FCE4"/>
                                    <path d="M3.92 11.1C3.09333 11.1 2.45667 10.8733 2.01 10.42C1.56333 9.96 1.34 9.28667 1.34 8.4C1.34 7.52667 1.55333 6.86 1.98 6.4C2.41333 5.93333 3.02667 5.7 3.82 5.7C4.17333 5.7 4.51333 5.72333 4.84 5.77C4.99333 5.79 5.12 5.86 5.22 5.98C5.32 6.1 5.37 6.24 5.37 6.4C5.37 6.53333 5.31667 6.64 5.21 6.72C5.11 6.8 4.99333 6.82667 4.86 6.8C4.6 6.74667 4.31 6.72 3.99 6.72C3.57 6.72 3.25667 6.85333 3.05 7.12C2.84333 7.38667 2.74 7.81333 2.74 8.4C2.74 9 2.85 9.43 3.07 9.69C3.29 9.95 3.63 10.08 4.09 10.08C4.41667 10.08 4.7 10.05 4.94 9.99C5.06667 9.95667 5.18 9.98 5.28 10.06C5.38667 10.14 5.44 10.2433 5.44 10.37C5.44 10.53 5.39 10.67 5.29 10.79C5.19667 10.91 5.07333 10.9833 4.92 11.01C4.58 11.07 4.24667 11.1 3.92 11.1ZM7.63813 11C7.48479 11 7.35146 10.9433 7.23813 10.83C7.12479 10.7167 7.06813 10.5833 7.06813 10.43V4.07C7.06813 3.91667 7.12479 3.78333 7.23813 3.67C7.35146 3.55667 7.48479 3.5 7.63813 3.5H7.89813C8.05146 3.5 8.18479 3.55667 8.29813 3.67C8.41146 3.78333 8.46813 3.91667 8.46813 4.07V10.43C8.46813 10.5833 8.41146 10.7167 8.29813 10.83C8.18479 10.9433 8.05146 11 7.89813 11H7.63813ZM12.267 6.63C11.927 6.63 11.6637 6.72667 11.477 6.92C11.297 7.10667 11.1837 7.41 11.137 7.83C11.137 7.88333 11.1637 7.91 11.217 7.91H13.177C13.2304 7.91 13.257 7.88333 13.257 7.83C13.2304 7.03 12.9004 6.63 12.267 6.63ZM12.517 11.1C11.6437 11.1 10.9704 10.8733 10.497 10.42C10.0304 9.96 9.79703 9.28667 9.79703 8.4C9.79703 7.52 10.007 6.85 10.427 6.39C10.847 5.93 11.4537 5.7 12.247 5.7C13.727 5.7 14.487 6.54 14.527 8.22C14.5337 8.38 14.477 8.51333 14.357 8.62C14.237 8.72667 14.097 8.78 13.937 8.78H11.207C11.147 8.78 11.1237 8.81 11.137 8.87C11.1837 9.31667 11.3304 9.64333 11.577 9.85C11.8304 10.05 12.197 10.15 12.677 10.15C12.977 10.15 13.3104 10.1 13.677 10C13.797 9.96667 13.907 9.98667 14.007 10.06C14.1137 10.1333 14.167 10.2333 14.167 10.36C14.167 10.5133 14.1204 10.65 14.027 10.77C13.9404 10.8833 13.8237 10.9533 13.677 10.98C13.3037 11.06 12.917 11.1 12.517 11.1ZM18.056 8.5C17.1027 8.5 16.626 8.79333 16.626 9.38C16.626 9.59333 16.686 9.76667 16.806 9.9C16.9327 10.0333 17.0927 10.1 17.286 10.1C17.666 10.1 17.9727 9.98333 18.206 9.75C18.4393 9.51 18.556 9.18333 18.556 8.77V8.59C18.556 8.53 18.526 8.5 18.466 8.5H18.056ZM16.926 11.1C16.4727 11.1 16.096 10.9533 15.796 10.66C15.5027 10.36 15.356 9.97333 15.356 9.5C15.356 8.92 15.576 8.47 16.016 8.15C16.4627 7.83 17.1427 7.67 18.056 7.67H18.466C18.526 7.67 18.556 7.64 18.556 7.58V7.5C18.556 7.19333 18.4827 6.98 18.336 6.86C18.1893 6.73333 17.9293 6.67 17.556 6.67C17.1693 6.67 16.696 6.74 16.136 6.88C16.016 6.91333 15.906 6.89333 15.806 6.82C15.706 6.74 15.656 6.63667 15.656 6.51C15.656 6.35667 15.7027 6.22 15.796 6.1C15.8893 5.97333 16.0093 5.89667 16.156 5.87C16.6627 5.75667 17.1393 5.7 17.586 5.7C18.4393 5.7 19.036 5.85333 19.376 6.16C19.716 6.46667 19.886 7.00333 19.886 7.77V10.43C19.886 10.5833 19.8293 10.7167 19.716 10.83C19.6093 10.9433 19.4793 11 19.326 11H19.216C19.056 11 18.9193 10.9467 18.806 10.84C18.6927 10.7267 18.6327 10.59 18.626 10.43V10.29C18.626 10.2833 18.6227 10.28 18.616 10.28C18.6027 10.28 18.596 10.2833 18.596 10.29C18.1893 10.83 17.6327 11.1 16.926 11.1ZM21.7815 11C21.6282 11 21.4948 10.9433 21.3815 10.83C21.2682 10.7167 21.2115 10.5833 21.2115 10.43V6.37C21.2115 6.21667 21.2682 6.08333 21.3815 5.97C21.4948 5.85667 21.6282 5.8 21.7815 5.8H21.9815C22.1348 5.8 22.2682 5.85667 22.3815 5.97C22.4948 6.08333 22.5515 6.21667 22.5515 6.37V6.79C22.5515 6.79667 22.5548 6.8 22.5615 6.8C22.5748 6.8 22.5815 6.79667 22.5815 6.79C22.7748 6.52333 23.0282 6.30667 23.3415 6.14C23.6548 5.96667 23.9982 5.86 24.3715 5.82C24.5115 5.80667 24.6315 5.85333 24.7315 5.96C24.8315 6.06 24.8815 6.18 24.8815 6.32C24.8815 6.46 24.8315 6.58 24.7315 6.68C24.6315 6.78 24.5115 6.83667 24.3715 6.85C23.1915 6.94333 22.6015 7.54333 22.6015 8.65V10.43C22.6015 10.5833 22.5448 10.7167 22.4315 10.83C22.3182 10.9433 22.1848 11 22.0315 11H21.7815ZM27.385 7.72V9.08C27.385 9.34667 27.4983 9.58333 27.725 9.79C27.9583 9.99667 28.2283 10.1 28.535 10.1C28.8883 10.1 29.1683 9.95667 29.375 9.67C29.5817 9.38333 29.685 8.96 29.685 8.4C29.685 7.26667 29.3017 6.7 28.535 6.7C28.2283 6.7 27.9583 6.80333 27.725 7.01C27.4983 7.21667 27.385 7.45333 27.385 7.72ZM26.635 13.2C26.4817 13.2 26.3483 13.1433 26.235 13.03C26.1217 12.9167 26.065 12.7833 26.065 12.63V6.37C26.065 6.21667 26.1217 6.08333 26.235 5.97C26.3483 5.85667 26.4817 5.8 26.635 5.8H26.755C26.915 5.8 27.0517 5.85667 27.165 5.97C27.2783 6.07667 27.3383 6.21 27.345 6.37V6.44C27.345 6.44667 27.3483 6.45 27.355 6.45C27.3617 6.45 27.3683 6.44667 27.375 6.44C27.615 6.17333 27.855 5.98333 28.095 5.87C28.335 5.75667 28.615 5.7 28.935 5.7C29.5617 5.7 30.0617 5.93667 30.435 6.41C30.8083 6.87667 30.995 7.54 30.995 8.4C30.995 9.23333 30.7983 9.89333 30.405 10.38C30.0183 10.86 29.5283 11.1 28.935 11.1C28.355 11.1 27.8517 10.89 27.425 10.47C27.4183 10.4633 27.4117 10.46 27.405 10.46C27.3983 10.46 27.395 10.4633 27.395 10.47V12.63C27.395 12.7833 27.3383 12.9167 27.225 13.03C27.1183 13.1433 26.9883 13.2 26.835 13.2H26.635ZM34.5209 8.5C33.5675 8.5 33.0909 8.79333 33.0909 9.38C33.0909 9.59333 33.1509 9.76667 33.2709 9.9C33.3975 10.0333 33.5575 10.1 33.7509 10.1C34.1309 10.1 34.4375 9.98333 34.6709 9.75C34.9042 9.51 35.0209 9.18333 35.0209 8.77V8.59C35.0209 8.53 34.9909 8.5 34.9309 8.5H34.5209ZM33.3909 11.1C32.9375 11.1 32.5609 10.9533 32.2609 10.66C31.9675 10.36 31.8209 9.97333 31.8209 9.5C31.8209 8.92 32.0409 8.47 32.4809 8.15C32.9275 7.83 33.6075 7.67 34.5209 7.67H34.9309C34.9909 7.67 35.0209 7.64 35.0209 7.58V7.5C35.0209 7.19333 34.9475 6.98 34.8009 6.86C34.6542 6.73333 34.3942 6.67 34.0209 6.67C33.6342 6.67 33.1609 6.74 32.6009 6.88C32.4809 6.91333 32.3709 6.89333 32.2709 6.82C32.1709 6.74 32.1209 6.63667 32.1209 6.51C32.1209 6.35667 32.1675 6.22 32.2609 6.1C32.3542 5.97333 32.4742 5.89667 32.6209 5.87C33.1275 5.75667 33.6042 5.7 34.0509 5.7C34.9042 5.7 35.5009 5.85333 35.8409 6.16C36.1809 6.46667 36.3509 7.00333 36.3509 7.77V10.43C36.3509 10.5833 36.2942 10.7167 36.1809 10.83C36.0742 10.9433 35.9442 11 35.7909 11H35.6809C35.5209 11 35.3842 10.9467 35.2709 10.84C35.1575 10.7267 35.0975 10.59 35.0909 10.43V10.29C35.0909 10.2833 35.0875 10.28 35.0809 10.28C35.0675 10.28 35.0609 10.2833 35.0609 10.29C34.6542 10.83 34.0975 11.1 33.3909 11.1ZM38.7136 10.92L37.0536 6.33C37.0136 6.19667 37.0303 6.07667 37.1036 5.97C37.1769 5.85667 37.2836 5.8 37.4236 5.8H37.7236C37.8903 5.8 38.0436 5.85333 38.1836 5.96C38.3236 6.06 38.4136 6.19 38.4536 6.35L39.3836 9.62C39.3836 9.62667 39.3869 9.63 39.3936 9.63C39.4003 9.63 39.4036 9.62667 39.4036 9.62L40.4736 6.34C40.5269 6.18 40.6236 6.05 40.7636 5.95C40.9036 5.85 41.0569 5.8 41.2236 5.8H41.4636C41.6036 5.8 41.7103 5.85667 41.7836 5.97C41.8636 6.08333 41.8769 6.20333 41.8236 6.33L39.3836 12.67C39.3236 12.83 39.2236 12.9567 39.0836 13.05C38.9436 13.15 38.7869 13.2 38.6136 13.2H38.3736C38.2403 13.2 38.1336 13.1433 38.0536 13.03C37.9803 12.9233 37.9703 12.8067 38.0236 12.68L38.7136 11.08C38.7269 11.0533 38.7336 11.0267 38.7336 11C38.7336 10.9733 38.7269 10.9467 38.7136 10.92Z" fill="black"/>
                                    <path d="M48.6913 6.44023L46.5657 5.13367C45.9428 4.75277 45.1633 5.23111 45.1633 5.99733V6.1302C45.1633 6.24979 45.2236 6.36494 45.324 6.42252L45.7259 6.67054C45.8424 6.74141 45.9911 6.65283 45.9911 6.50667V6.17449C45.9911 6.00619 46.1598 5.90432 46.2964 5.98847L48.1368 7.11787C48.2734 7.20203 48.2734 7.41019 48.1368 7.48991L46.2964 8.61931C46.1598 8.70347 45.9911 8.59717 45.9911 8.4333V8.25613C45.9911 7.48991 45.2115 7.01158 44.5887 7.39247L42.4671 8.69904C41.8443 9.07993 41.8443 10.041 42.4671 10.4219L44.5887 11.7285C45.2115 12.1094 45.9911 11.6311 45.9911 10.8648V10.732C45.9911 10.6124 45.9308 10.5017 45.8303 10.4396L45.4285 10.1916C45.312 10.1208 45.1633 10.2093 45.1633 10.3555V10.6877C45.1633 10.856 44.9946 10.9578 44.8579 10.8737L43.0176 9.74429C42.881 9.66014 42.881 9.45197 43.0176 9.36782L44.8579 8.24285C44.9946 8.1587 45.1633 8.26499 45.1633 8.42887V8.60603C45.1633 9.37225 45.9428 9.85058 46.5657 9.46969L48.6873 8.16312C49.3141 7.78223 49.3141 6.82556 48.6913 6.44023Z" fill="black"/>
                                </svg>
                            </div>
                            <div>
                                <?= $this->getLayout()->createBlock('Magento\Paypal\Block\Express\Shortcut')->setTemplate('Magento_Paypal::express/shortcut.phtml')->toHtml(); ?>
                                <div class="mt-2.5"><?= $block->getChildHtml('rvvup-paypal-cart-block') ?></div>
                                <?= $block->getChildHtml('amazon.pay.button.custom.cart') ?>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <?= $block->getChildHtml('cart.discount') ?>
        </div>
    </div>
    <div class="w-full lg:w-3/4 float-left lg:order-1 lg:pr-8">
        <?= $block->getChildHtml('form_before') ?>
        <?= $block->getChildHtml('cart-items') ?>
        <?= $block->getChildHtml('checkout_cart_widget') ?>
        <div class="hidden md:flex w-full bg-[#F2F6FA] grid grid-cols-1 rounded-md py-6 px-8 mb-4 gap-x-4 lg:grid-cols-3 lg:gap-x-[18px]">
            <div class="flex flex-col w-full">
                <?php echo $hyvaicons->renderHtml('reliant-delreturns', 'w-8 h-8 mb-2'); ?>
                <h3 class="font-sans text-base leading-6 font-bold text-[#000d40] mb-4"><?= $escaper->escapeHtml(__('Delivery Information')) ?></h3>
                <p class="font-sans text-sm leading-5 font-normal"><?= $this->getLayout()->createBlock('Magento\Cms\Block\Block')->setBlockId('basket-delivery-info')->toHtml(); ?></p>
            </div>
            <div class="flex flex-col w-full">
                <?php echo $hyvaicons->renderHtml('reliant-measure', 'w-8 h-8 mb-2'); ?>
                <h3 class="font-sans text-base leading-6 font-bold text-[#000d40] mb-4"><?= $escaper->escapeHtml(__('Measured Your Packaging?')) ?></h3>
                <p class="font-sans text-sm leading-5 font-normal">When ordering bulky items, ensure the product fits through all doorways in its protective packaging. For assistance, call <a href="tel:+441253 440272" target="_blank" title="Call us on 01253 440272"><strong>01253 440272</strong></a> or <a href="tel:+44330 057 7142" target="_blank" title="Call us on 0330 057 7142"><strong>0330 057 7142</strong></a>. Thank you.</p>
            </div>
            <div class="flex flex-col w-full">
                <?php echo $hyvaicons->renderHtml('reliant-call', 'w-6 h-6 mb-4'); ?>
                <h3 class="font-sans text-base leading-6 font-bold text-[#000d40] mb-4"><?= $escaper->escapeHtml(__('Delivery Information')) ?></h3>
                <p class="font-sans text-sm leading-5 font-normal">We use selected delivery companies to ensure safe arrival. Delivery depends on location, availability, and road restrictions. For issues, visit our Delivery page or call <a href="tel:+441253 440272" target="_blank" title="Call us on 01253 440272"><strong>01253 440272</strong></a> or <a href="tel:+44330 057 7142" target="_blank" title="Call us on 0330 057 7142"><strong>0330 057 7142</strong></a></p>
            </div>
        </div>
    </div>
</div>
<div class="md:hidden flex w-full bg-[#F2F6FA] grid grid-cols-1 rounded-md py-6 px-8 mb-4 gap-x-4 lg:grid-cols-3 lg:gap-x-[18px]">
    <div class="flex flex-col w-full">
        <?php echo $hyvaicons->renderHtml('reliant-delreturns', 'w-8 h-8 mb-2'); ?>
        <h3 class="font-sans text-base leading-6 font-bold text-[#000d40] mb-4"><?= $escaper->escapeHtml(__('Delivery Information')) ?></h3>
        <p class="font-sans text-sm leading-5 font-normal"><?= $this->getLayout()->createBlock('Magento\Cms\Block\Block')->setBlockId('basket-delivery-info')->toHtml(); ?></p>
    </div>
    <div class="flex flex-col w-full">
        <?php echo $hyvaicons->renderHtml('reliant-measure', 'w-8 h-8 mb-2'); ?>
        <h3 class="font-sans text-base leading-6 font-bold text-[#000d40] mb-4"><?= $escaper->escapeHtml(__('Measured Your Packaging?')) ?></h3>
        <p class="font-sans text-sm leading-5 font-normal">When ordering bulky items, ensure the product fits through all doorways in its protective packaging. For assistance, call <a href="tel:+441253 440272" target="_blank" title="Call us on 01253 440272"><strong>01253 440272</strong></a> or <a href="tel:+44330 057 7142" target="_blank" title="Call us on 0330 057 7142"><strong>0330 057 7142</strong></a>. Thank you.</p>
    </div>
    <div class="flex flex-col w-full">
        <?php echo $hyvaicons->renderHtml('reliant-call', 'w-6 h-6 mb-4'); ?>
        <h3 class="font-sans text-base leading-6 font-bold text-[#000d40] mb-4"><?= $escaper->escapeHtml(__('Delivery Information')) ?></h3>
        <p class="font-sans text-sm leading-5 font-normal">We use selected delivery companies to ensure safe arrival. Delivery depends on location, availability, and road restrictions. For issues, visit our Delivery page or call <a href="tel:+441253 440272" target="_blank" title="Call us on 01253 440272"><strong>01253 440272</strong></a> or <a href="tel:+44330 057 7142" target="_blank" title="Call us on 0330 057 7142"><strong>0330 057 7142</strong></a></p>
    </div>
</div>

<script>
    function initSummaryToggleSection() {
        return {
            isPayInFullActive: true,
            togglePaySection: function(toggle) {
                if (toggle == "payFull") {
                    document.getElementById("before-open-icon").style.display = "none";
                    document.getElementById("show-three-icon").style.display = "block";
                    this.isPayInFullActive = true;
                } else {
                    document.getElementById("before-open-icon").style.display = "block";
                    document.getElementById("show-three-icon").style.display = "none";
                    this.isPayInFullActive = false;
                }
            },
            checkFinanceProduct: function() {
                var financeCookie = getCookie('finance');

                if(typeof financeCookie === 'undefined') {
                    var financeJsonDecoded = "";
                } else {
                    var financeJsonDecoded = JSON.parse(financeCookie);
                }

                if (financeJsonDecoded) {
                    var productIdCookie = financeJsonDecoded['product_id'];
                    let quoteItemData = window.checkoutConfig.quoteItemData;
                    if (quoteItemData) {
                        for (const item of quoteItemData) {
                            if(productIdCookie.includes(item.product_id)) {
                                this.isPayInFullActive = false;
                            }
                        }
                    }
                }
                if(window.location.href.indexOf("#finance") > -1) {
                    this.isPayInFullActive = false;
                }
            }
        }
    }
    function getCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    }
</script>
